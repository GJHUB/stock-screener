{% extends "base.html" %}

{% block title %}{{ date }} é€‰è‚¡ç»“æœ - è‚¡ç¥¨æ—¥Kç­›é€‰å™¨{% endblock %}
{% block subtitle %}{{ date }} é€‰è‚¡ç»“æœ{% endblock %}

{% block content %}
<div class="card">
    <h2>ğŸ“Š ä»Šæ—¥ç­›é€‰ç»“æœ</h2>
    <div class="stats-grid">
        <div class="stat-item">
            <div class="stat-value">{{ count }}</div>
            <div class="stat-label">ç¬¦åˆæ¡ä»¶è‚¡ç¥¨æ•°</div>
        </div>
    </div>
</div>

{% if stocks %}
<div class="card">
    <h2>ğŸ“‹ é€‰è‚¡åˆ—è¡¨</h2>
    <div style="overflow-x: auto;">
        <table>
            <thead>
                <tr>
                    <th>ä»£ç </th>
                    <th>åç§°</th>
                    <th>å½“å‰ä»·</th>
                    <th>æ¶¨è·Œå¹…</th>
                    <th>Jå€¼</th>
                    <th>DIFF</th>
                    <th>é‡æ¯”</th>
                    <th class="reason">é€‰æ‹©ç†ç”±</th>
                </tr>
            </thead>
            <tbody>
                {% for stock in stocks %}
                <tr>
                    <td>{{ stock['ä»£ç '] }}</td>
                    <td>{{ stock['åç§°'] }}</td>
                    <td>{{ stock['å½“å‰ä»·'] }}</td>
                    <td class="{% if '-' in stock['æ¶¨è·Œå¹…'] %}negative{% else %}positive{% endif %}">{{ stock['æ¶¨è·Œå¹…'] }}</td>
                    <td class="{% if stock['Jå€¼'] < 0 %}negative{% endif %}">{{ stock['Jå€¼'] }}</td>
                    <td class="{% if stock['DIFF'] > 0 %}positive{% else %}negative{% endif %}">{{ stock['DIFF'] }}</td>
                    <td>{{ stock['é‡æ¯”'] }}</td>
                    <td class="reason">{{ stock['é€‰æ‹©ç†ç”±'] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% else %}
<div class="card">
    <div class="empty-state">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h3>ä»Šæ—¥æ— ç¬¦åˆæ¡ä»¶çš„è‚¡ç¥¨</h3>
        <p>ç­–ç•¥æ¡ä»¶è¾ƒä¸ºä¸¥æ ¼ï¼Œè¯·è€å¿ƒç­‰å¾…åˆé€‚çš„ä¹°ç‚¹æœºä¼š</p>
    </div>
</div>
{% endif %}
{% endblock %}
